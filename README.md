# ✈️ Airline Reservation System (Django)

The **Airline Reservation System** is a web application built with the Django framework that enables users to search, book, and cancel flight tickets.  
Administrators can manage flights and view all reservations through the Django Admin Panel.

---

## 🚀 Main Features

### 👤 Users
- User registration and login  
- Search for available flights by origin, destination, and date  
- Multi-step booking process:
  1. Enter personal information  
  2. Choose seat class (**Basic**, **Regular**, **Plus**)  
  3. Select a seat on the airplane map (supports multiple passengers)
  4. (Optional) Add extras: Extra Luggage (10/20/23 kg) & Equipmen (Sports/Music/Baby)
  5. Payment & ticket issuing
- View all purchased tickets (**Check Booked Flights**) — shows tickets bought by the logged-in user (even for other passengers)
- View details of each ticket (**About Ticket**) — includes extras and PDF ticket with Code128 barcode  
- Cancel a ticket (**Cancel Ticket**) – available only for **PLUS** class  
- When a ticket is canceled, the seat automatically becomes available again  

### 🧑‍💼 Administrator
- Add, edit, and delete flights through the **Django Admin Panel**  
- View all booked tickets and their payment status  

---

## 🗄️ Models

### ✈️ Flight
Contains flight details:
- Flight number  
- Departure and destination cities  
- Date and time of departure  
- Flight price  

### 🎫 Ticket
Contains ticket and passenger details:
- Passenger info (name, surname, OIB, email, phone, country)  
- Linked flight (**ForeignKey → Flight**)  
- Seat class and seat number  
- Payment method  
- **Payment Status:** Paid / Refunded  
- **Ticket Status:** Booked / Canceled
- **Purchased By:** `auth.user` (who paid for the booking) 

---

## ⚙️ How to Run Locally

1️⃣ **Clone the repository**
```bash
git clone https://github.com/leonserka/airline-reservation-system-final-.git
cd airline_reservation_django
```

2️⃣ **Install dependencies**
```bash
pip install -r requirements.txt
```

3️⃣ **Apply database migrations**
```bash
python manage.py migrate
```

4️⃣ **Start the development server**
```bash
python manage.py runserver
```

5️⃣ **Open in browser**
```
http://127.0.0.1:8000/
```

---

## 👩‍💻 Admin Panel

Access the Django Admin interface:
```
http://127.0.0.1:8000/admin/
```

Create a superuser:
```bash
python manage.py createsuperuser
```

---

## 🗂️ Project Structure
```
airline_reservation_django\
├── requirements.txt                # Project dependencies
├── README.md                       # Project documentation
├── .gitignore                      # Git ignore rules
├── venv\                      
└── airline_reservation_django\
    ├── manage.py                   # Django management script (runserver, migrate, etc.)
    ├── db.sqlite3                  # SQLite database (local development)
    │
    ├── airline_project\            # Main Django project configuration
    │   ├── __init__.py
    │   ├── settings.py             # Project settings (database, apps, middleware)
    │   ├── urls.py                 # Root URL configuration
    │   ├── wsgi.py                 # Root URL configuration
    │   └── asgi.py                 # ASGI entry point (for async servers)
    │
    ├── flights\                    # Core application module
    │   ├── __init__.py
    │   ├── admin.py                # Django admin configuration for models
    │   ├── apps.py                 # App registration
    │   ├── country_codes.py        # Country code list for form dropdowns
    │   ├── forms.py                # Django forms (booking, registration, etc.)
    │   ├── models.py               # Database models (Flight, Ticket)
    │   ├── tests.py                # Automated tests
    │   ├── urls.py                 # App-specific routes
    │   │
    │   ├── migrations\             # Database migrations (auto-generated by Django)
    │   │   ├── 0001_initial.py
    │   │   ├── 0002_ticket_country_code_alter_ticket_id_number_and_more.py
    │   │   ├── 0003_ticket_payment_status_ticket_status.py
    │   │   ├── 0004_remove_flight_baggage_allowance.py
    │   │   ├── 0005_ticket_extra_equipment_ticket_extra_luggage.py
    │   │   ├── 0006_ticket_purchased_by.py        
    │   │   └── __init__.py
    │   │
    │   ├── static\                     # Static files (CSS, JS, images)
    │   │   └── flights\
    │   │       ├── avion.png           # Airplane image used in templates
    │   │       ├── base.css            # Global CSS styles
    │   │       ├── flight_list.js      # Script for filtering/searching flights
    │   │       ├── flight_step1.js     # Handles Step 1 interactions
    │   │       ├── flight_step3.css    # Seat map styling
    │   │       └── flight_step3.js     # Seat selection logic
    │   │
    │   ├── templates\                  # HTML templates for the application
    │   │   └── flights\
    │   │       ├── base.html           # Main layout template (navbar, footer)
    │   │       ├── home.html           # Home page with flight search form
    │   │       ├── flight_list.html    # Search results with available flights
    │   │       ├── create_flight.html  # Admin page to add new flights
    │   │       ├── book_flight.html    # Booking overview page
    │   │       ├── book_step1.html     # Step 1: Personal information
    │   │       ├── book_step2.html     # Step 2: Seat class selection
    │   │       ├── book_step3.html     # Step 3: Seat map selection
    │   │       ├── book_step4.html     # Step 4: Adding extras
    │   │       ├── book_step5.html     # Step 5: Confirmation and payment
    │   │       ├── book_success.html   # Success message after booking
    │   │       ├── check_booked_flights.html   # User’s booked tickets list
    │   │       ├── about_ticket.html           # Detailed ticket information
    │   │       ├── cancel_success.html         # Ticket cancellation confirmation
    │   │       ├── login.html          # User login page
    │   │       └── register.html       # User registration page
    │   │
    │   ├── utils\                       # Helper utilities used across the app
    │   │   ├── pdf_generator.py         # Generates PDF tickets with passenger and flight details (includes barcode)
    │   │   └── __init__.py
    │   │   
    │   ├── views\                      # Split views for better code organization
    │   │   ├── booking_views.py        # Handles flight search, multi-step booking, seat selection, and payments
    │   │   ├── misc_views.py           # Contains home, login/logout, registration, and general-purpose views
    │   │   ├── ticket_views.py         # Manages booked tickets, cancellations, and PDF ticket generation
    │   │   └── __init__.py
    │   │   
    ├── staticfiles\            # Collected static files for deployment
    │   ├── admin\              # Django admin assets (css, js, img, fonts)
    │   └── flights\
    │
    └── venv\

```

---

## 📦 Technologies Used
- Python (Django Framework)  
- SQLite / PostgreSQL database  
- HTML, CSS, JavaScript  
- Bootstrap (for frontend styling)

---

## 🗄️ Database Technology

This project uses **SQLite** as the default database engine provided by Django.  
SQLite is lightweight, file-based, and perfect for local development and testing.

For production environments, the project can easily be configured to use **PostgreSQL**,  
a more robust and scalable relational database system.

**Default configuration (development):**
- Database: `SQLite`
- File: `db.sqlite3`
- No additional setup required

**Optional configuration (production):**
- Database: `PostgreSQL`
- Driver: `psycopg2`
- Suitable for deployment on platforms such as Render, Railway, or AWS

---

## 📅 Recent Updates

| Date       | Version | Highlights |
|------------|----------|-------------|
| **2025-10-25** | v1.0 | Base booking flow, flight search, login/register, ticket issue & cancel (**PLUS only**), seat map, admin CRUD for flights. |
| **2025-10-31** | v1.1 | Multi-passenger booking & seat selection; hide past flights (`date >= today`); new Step 4 (**Extras: luggage/equipment**) and Step 5 (**Payment**); total price includes extras × passengers; `Ticket.purchased_by` for per-user bookings list; **About Ticket** shows extras & PDF with Code128 barcode; session scoping for seats per flight; bugfixes & cleanup. |


## 🚧 Future Improvements
- Admin section: List all flights with filter by route (departure Split, arrival Madrid)
- Cancel flight (admin) — delete flight from database
- Check all bought tickets by route 
- sending email to cusomer who bought ticket
- Admin dashboard with earnings display and statistics (daily/weekly/monthly, top routes, occupancy)

---

## 📄 License
This project is open-source and free to use, modify, and distribute — attribution is appreciated.

---

## ✍️ Author
**Leon Serka**  
[https://github.com/leonserka](https://github.com/leonserka)
