{% extends 'flights/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'flights/css/book_step1.css' %}">

<h1>Passenger Details</h1>

<div class="flight-box">
  <h3>Departure flight</h3>
  <p>
    {{ flight.departure_city }} → {{ flight.arrival_city }}<br>
    {{ flight.date|date:"M. d, Y" }} | ${{ flight.price }}
  </p>
</div>

{% if return_flight %}
<div class="flight-box">
  <h3>Return flight</h3>
  <p>
    {{ return_flight.departure_city }} → {{ return_flight.arrival_city }}<br>
    {{ return_flight.date|date:"M. d, Y" }} | ${{ return_flight.price }}
  </p>
</div>
{% endif %}

<hr>

<p><strong>Number of passengers:</strong> {{ num_passengers }}</p>

<form method="post" class="passenger-form">
  {% csrf_token %}

  {% for form in passenger_forms %}
    <fieldset class="passenger-fieldset">
      <legend>Passenger {{ forloop.counter }}</legend>
      {{ form.as_p }}
    </fieldset>
  {% endfor %}

  <button type="submit" class="continue-btn">
    Continue →
  </button>
</form>

{% endblock %}
